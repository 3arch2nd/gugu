<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>곱셈구구 첫걸음</title>
    <meta name="description" content="Educational Web App for Elementary School Learning | Education / School / Study / Quiz / Learning Activity for Students" />
    <meta property="og:image" content="thumb.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Gowun Dodum', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f4f7f6;
            color: #333;
            text-align: center;
            font-size: 18px;
        }
        .container {
            position: relative;
            background-color: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 1100px;
            text-align: center;
            margin: 20px auto;
            box-sizing: border-box;
            min-height: 70vh;
            display: none;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            color: #4b8134;
            margin-bottom: 20px;
            font-size: 2.5em;
        }
        h2 {
            color: #333;
            margin-bottom: 5px;
            font-size: 1.8em;
        }
        button {
            font-family: 'Gowun Dodum', sans-serif;
            padding: 12px 24px;
            margin: 5px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.2em;
            transition: background-color 0.3s, transform 0.1s;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .primary-btn {
            background-color: #a0c179;
            color: white;
            font-weight: bold;
        }
        .primary-btn:hover {
            background-color: #8cb24b;
        }
        .secondary-btn {
            background-color: #e9e9e9;
            color: #333;
            border: 2px solid #ccc;
        }
        .secondary-btn:hover {
            background-color: #d9d9d9;
        }
        .footer {
            margin-top: 20px;
            font-size: 14px;
            color: #ccc;
            text-align: center;
        }
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 20px;
        }
        .page-header h2 {
            flex-grow: 1;
            text-align: center;
            margin: 0;
            padding-left: 20px;
            padding-right: 20px;
        }
        .home-button {
            background-color: #e9e9e9;
            color: #333;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 1em;
            cursor: pointer;
            text-decoration: none;
            font-weight: bold;
            flex-shrink: 0;
        }
        #qr-code-btn {
            background-color: #e9e9e9;
            color: #333;
            padding: 5px 10px;
            font-size: 0.9em;
            position: absolute;
            top: 30px;
            right: 30px;
            z-index: 10;
        }
        #home-page { justify-content: center; }
        #home-page h1 { margin-top: 50px; margin-bottom: 50px; }
        #home-page .level-buttons { display: flex; justify-content: center; gap: 20px; width: 100%; margin-top: 0; }
        #home-page .level-option { flex: 1; display: flex; flex-direction: column; align-items: center; max-width: 300px; }
        #home-page .level-option button { 
            padding: 40px 50px; 
            font-size: 2.0em; 
            width: 100%; 
            color: #333; 
            font-weight: bold; 
        }
        #home-page .level-buttons .level-option:nth-child(1) button {
            background-color: #ffe599;
        }
        #home-page .level-buttons .level-option:nth-child(2) button {
            background-color: #ffd366;
        }
        #home-page .level-buttons .level-option:nth-child(3) button {
            background-color: #ffbe66;
        }
        .level-description { white-space: pre-line; margin-top: 15px; font-size: 1.1em; color: #6c757d; line-height: 1.4; min-height: 90px; text-align: center; }
        .page-content-layout {
            display: flex;
            width: 100%;
            text-align: left;
            flex-grow: 1;
        }
        .left-panel {
            width: 100px;
            margin-right: 20px;
            position: relative;
            padding-top: 15px;
            flex-shrink: 0;
        }
        .right-main-area {
            flex-grow: 1;
            padding-left: 20px;
            border-left: 1px solid #eee;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        .gugudan-select-vertical {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .gugudan-select-vertical button {
            padding: 8px 5px;
            font-size: 1em;
            width: 100%;
            margin: 0;
        }
        .direction-random-btn {
            padding: 8px 5px;
            font-size: 1.2em;
            width: 100%;
            font-weight: bold;
            margin-bottom: 8px; 
            background-color: #6c757d; 
            color: white;
            line-height: 1; 
        }
        .direction-random-btn.direction-active-forward {
            background-color: #ffc107; 
            color: #333;
        }
        .direction-random-btn.direction-active-reverse {
            background-color: #6c757d;
            color: white;
        }
        #level3-random-btn {
            font-size: 0.9em; 
            background-color: #e9e9e9; 
            color: #333; 
            border: 2px solid #ccc; 
            line-height: normal; 
        }
        #level3-random-btn.selected { 
            background-color: #dc3545;
            color: white;
            font-weight: bold;
            border-color: #dc3545; 
        }
        .gugudan-btn-2.selected { background-color: #ea9999; color: white; font-weight: bold; } 
        .gugudan-btn-3.selected { background-color: #f7952f; color: white; font-weight: bold; }
        .gugudan-btn-4.selected { background-color: #ffd966; color: #333; font-weight: bold; }
        .gugudan-btn-5.selected { background-color: #cfed8c; color: #333; font-weight: bold; }
        .gugudan-btn-6.selected { background-color: #85ba6e; color: white; font-weight: bold; }
        .gugudan-btn-7.selected { background-color: #abe7f0; color: #333; font-weight: bold; }
        .gugudan-btn-8.selected { background-color: #559ad9; color: white; font-weight: bold; }
        .gugudan-btn-9.selected { background-color: #b4a7d6; color: white; font-weight: bold; }
        .card-row {
            display: flex;
            justify-content: flex-start;
            gap: 10px; 
            flex-wrap: nowrap;
            overflow-x: auto;
            padding-bottom: 5px;
            width: 100%;
        }
        .card {
            width: 65px; 
            height: 65px; 
            line-height: 65px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 3px solid #ccc;
            border-radius: 8px;
            font-size: 1.5em; 
            font-weight: bold;
            cursor: pointer;
            user-select: none;
            flex-shrink: 0;
            box-sizing: border-box; 
        }
        .card.problem-card {
            letter-spacing: -1px; 
            padding-top: 2px; 
            border-color: #ccc; 
            color: #333;
            background-color: #f7f7f7; 
        }
        .card.matched-problem {
            border-color: #4b8134; 
            background-color: #e6f3d9; 
            cursor: default;
        }
        .card-placeholder {
            width: 65px; 
            height: 65px; 
            line-height: 65px;
            border: 3px dashed #eee;
            border-radius: 8px;
            flex-shrink: 0;
            background-color: transparent;
            cursor: default;
            box-sizing: border-box; 
        }
        .card.selected { transform: scale(1.05); border-color: #ffc107; box-shadow: 0 0 15px rgba(255, 193, 7, 0.8); background-color: #fffbe0; }
        .card.matched-answer { 
            border: 3px solid #ccc;
            background-color: white; 
            color: #333; 
            margin: 0; 
            padding: 0; 
            height: 65px; 
            line-height: 65px; 
            font-size: 1.5em; 
            letter-spacing: normal;
        }
        #level1-matched-row { 
            display: flex; 
            margin-top: 5px; 
            margin-bottom: 20px; 
            justify-content: flex-start;
            gap: 10px;
        }
        #level1-unmatched-answers-row { margin-top: 20px; min-height: 60px; } 
        #level1-problem-row { margin-bottom: 0; }
        #level1-page .right-main-area > p { margin-bottom: 10px; }
        .completion-message {
            margin-top: 50px;
            padding: 20px;
            border: none;
            border-radius: 12px;
            background-color: transparent; 
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); 
            text-align: center;
            width: 100%;
            box-sizing: border-box;
            font-size: 1.5em;
            color: #4b8134;
            font-weight: bold;
        }
        .completion-message p { margin: 10px 0; font-size: 0.8em; color: #333; }
        .completion-message .popup-buttons { margin-top: 15px; }
        .completion-message .popup-buttons button {
            padding: 0 10px; 
            font-size: 0.8em; 
            min-width: 120px;
            height: 35px; 
            line-height: 35px; 
            display: inline-block; 
        }
        .level2-control-area {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-bottom: 20px;
            width: 100%;
        }
        #level2-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        #level2-control p { flex-shrink: 0; }
        #level2-control button {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            padding: 0;
            margin: 0;
            font-size: 1.5em;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }
        .quantity-display {
            font-size: 2.2em;
            font-weight: bold;
            color: #4b8134;
            width: 40px;
            text-align: center;
            flex-shrink: 0;
        }
        #level2-control .primary-btn,
        #level2-control .secondary-btn:last-child {
            padding: 8px 15px;
            font-size: 1.1em;
            width: auto;
            height: auto;
            border-radius: 10px;
        }
        .level2-problem-area { 
            flex-direction: column;
            flex-grow: 1;
        }
        .level2-problem-row {
            display: flex;
            justify-content: flex-start;
            gap: 10px; 
            flex-wrap: nowrap;
            overflow-x: auto;
            padding-bottom: 5px;
        }
        .level2-problem-text {
            width: 65px; 
            height: 65px; 
            line-height: 65px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 3px solid #4b8134;
            border-radius: 8px;
            font-size: 1.5em; 
            font-weight: bold;
            color: #4b8134;
            flex-shrink: 0;
            box-sizing: border-box;
            letter-spacing: -1px; 
            padding-top: 2px; 
        }
        .level2-pair { 
            width: 65px; 
            flex-shrink: 0; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 5px; 
        }
        .level2-answer-box { 
            width: 65px; 
            height: 65px;
            line-height: 65px;
            border: 3px solid #ccc;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5em; 
            font-weight: bold;
            background-color: #f7f7f7;
            box-sizing: border-box;
        }
        .level2-answer-box.flipped { background-color: #fff; padding: 0; }
        .level2-input {
            width: 60px; 
            height: 60px; 
            font-family: 'Gowun Dodum', sans-serif;
            font-size: 1.5em; 
            text-align: center;
            border: 2px solid #ffc107;
            border-radius: 4px;
            box-sizing: border-box;
            line-height: 60px;
            padding: 0;
            margin: 0;
        }
        .level2-input::-webkit-outer-spin-button,
        .level2-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .level2-input[type=number] { -moz-appearance: textfield; }
        .level2-pair.incorrect .level2-answer-box {
            border-color: #dc3545;
            background-color: #fff0f0;
        }
        .level2-pair.incorrect .level2-problem-text {
            color: #dc3545;
            border-color: #dc3545;
        }
        #level2-completion-message p { 
            font-size: 0.9em; 
            line-height: 1.4; 
        }
        #level3-mode-select-wrapper {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
        }
        #level3-mode-select {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-bottom: 0;
            width: 100%;
        }
        #level3-mode-select button#mode-input-btn {
            border: none;
            font-weight: bold;
        }
        #level3-mode-select button {
            padding: 30px 50px;
            font-size: 1.8em;
            width: 300px;
            max-width: 40%;
            height: 120px;
        }
        #level3-mode-select button#mode-4choice-btn {
            background-color: #ffc107;
            color: #333;
        }
        #level3-mode-select button#mode-4choice-btn:hover { background-color: #fdb827; }
        #level3-mode-select button#mode-input-btn {
            background-color: #e06666;
            color: white;
        }
        #level3-mode-select button#mode-input-btn:hover { background-color: #cc4125; }
        .mode-select-guide {
            font-size: 1.4em;
            color: #6c757d;
            margin-bottom: 40px;
            font-weight: bold;
        }
        .level3-problem-area { 
            font-size: 3.8em; 
            margin: 40px 0 30px 0; 
            min-height: 100px; 
            text-align: center; 
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px; 
        } 
        .level3-options-area {
            display: grid;
            grid-template-columns: repeat(4, 1fr); 
            gap: 3px; 
            margin: 25px auto 30px auto; 
            max-width: 800px; 
        }
        .level3-options-area button { 
            width: 140px; 
            height: 80px; 
            padding: 5px;
            font-size: 2.2em; 
            margin: 0;
            background-color: white;
            color: #333;
            border: 3px solid #ccc;
            line-height: 70px; 
            transition: background-color 0.1s, transform 0.1s, border-color 0.2s;
        }
        .level3-options-area button:hover {
             border-color: #8cb24b;
             background-color: #f7fff3;
        }
        .level3-result-message.correct-msg { color: #4b8134; }
        .level3-result-message.incorrect-msg { color: #dc3545; }
        .level3-input-area { 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            gap: 20px; 
            margin-top: 25px; 
        } 
        #level3-problem-text { 
            font-size: 1em; 
            margin: 0;
        }
        #level3-answer-input { 
            width: 100px; 
            height: 60px; 
            font-size: 1.0em; 
            text-align: center; 
            border: 3px solid #ccc; 
            border-radius: 8px; 
            padding: 0;
            box-sizing: border-box;
            background-color: transparent; 
            color: #333; 
            font-weight: normal; 
        }
        #level3-answer-input::-webkit-outer-spin-button,
        #level3-answer-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .level3-input[type=number] { -moz-appearance: textfield; }
        #level3-submit-btn { 
            padding: 10px 25px; 
            font-size: 1.6em; 
            background-color: #4b8134; 
            color: white; 
            width: auto; 
        }
        .level3-result-message { margin-top: 20px; font-size: 1.2em; font-weight: bold; min-height: 30px; text-align: center; }
        #level3-quiz-area .right-main-area > div:last-child { 
            margin-top: 25px; 
        }
        #level3-status {
            font-size: 1.1em;
            color: #6c757d;
            font-weight: bold;
            min-height: 30px;
            margin-bottom: 15px; 
            text-align: center;
        }
        .status-accuracy { color: #4b8134; font-size: 1.2em; }
        #level3-result-page {
            justify-content: center;
            align-items: center;
            text-align: center;
            padding-top: 50px;
        }
        #level3-result-page h3 {
            font-size: 2.2em;
            color: #4b8134;
            margin-bottom: 50px;
        }
        .final-result-layout {
            display: flex;
            justify-content: space-around;
            align-items: center;
            width: 100%;
            max-width: 700px;
            margin-bottom: 60px;
            padding: 30px;
            border-radius: 15px;
            background-color: #e6f3d9;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        .result-left {
            flex-grow: 1;
            text-align: center;
            padding-right: 30px;
            border-right: 2px dashed #ccc;
        }
        .result-right {
            flex-grow: 1;
            text-align: left;
            padding-left: 30px;
            font-size: 1.2em;
            line-height: 2.0;
        }
        #final-accuracy {
            font-size: 6em;
            font-weight: bold;
            color: #4b8134; 
            line-height: 1.1;
        }
        .result-right strong { color: #1e90ff; font-size: 1.1em; }
        .popup-overlay { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background-color: rgba(0, 0, 0, 0.6); 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            z-index: 900; 
            transition: opacity 0.3s; 
        }
        .popup-qr { z-index: 1000; background-color: rgba(255, 255, 255, 0.9); }
        .popup-box { background-color: white; padding: 40px; border-radius: 12px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3); position: relative; width: 80%; max-width: 500px; text-align: center; }
        .close-btn-qr { position: absolute; top: 10px; right: 10px; padding: 5px 10px; }
        .qr-image-box { margin-top: 20px; }
        .qr-image-box img { max-width: 250px; width: 100%; height: auto; border: 1px solid #eee; border-radius: 8px; }
        #orientation-warning {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); color: white; z-index: 999; display: none; flex-direction: column; justify-content: center; align-items: center; font-size: 1.0em; text-align: center; line-height: 1.5; padding: 20px;
        }
        @media (max-aspect-ratio: 1/1) and (max-width: 1100px) {
            #orientation-warning { display: flex; }
            .container { display: none !important; }
        }
        @media (min-aspect-ratio: 1/1) and (min-width: 768px) {
            #orientation-warning { display: none !important; }
        }
    </style>
</head>
<body>

    <div id="orientation-warning">
        <p>기기를 가로 방향으로 돌려주세요!<br>태블릿, pc 화면에 최적화되어 있습니다</p>
    </div>

    <div id="home-page" class="container" style="display: flex;">
        <button id="qr-code-btn" class="secondary-btn" onclick="openQrPopup()">QR 코드</button>
        
        <h1>곱셈구구 첫걸음</h1>

        <div class="level-buttons">
            <div class="level-option">
                <button onclick="startLevel(1, 2)">1단계</button>
                <p class="level-description">문제 카드와 답 카드를
짝지어 연결해요.</p>
            </div>
            <div class="level-option">
                <button onclick="startLevel(2, 2)">2단계</button>
                <p class="level-description">카드들이 사라졌어요!
빈칸에 알맞은 답을
직접 채워요.</p>
            </div>
            <div class="level-option">
                <button onclick="startLevel(3)">3단계</button>
                <p class="level-description">답 고르기 또는 직접 입력으로
곱셈구구 실력을 길러요.</p>
            </div>
        </div>

    </div>

    <div id="level1-page" class="container">
        <div class="page-header">
            <button class="home-button" onclick="showPage('home-page')">처음으로 돌아가기</button>
            <h2>1단계: 짝 맞추기</h2>
            <span style="visibility: hidden; width: 80px;">QR 코드</span>
        </div>
        
        <div class="page-content-layout">
            <div class="left-panel">
                <button id="direction-btn" class="direction-random-btn secondary-btn" onclick="toggleDirection(1)">&#8678;</button>
                <div class="gugudan-select-vertical" id="level1-gugudan-select"></div>
            </div>

            <div class="right-main-area">
                <p style="font-size: 1.1em; color: #6c757d; text-align: left;">문제 카드 (클릭해서 선택하세요)</p>
                <div id="level1-problem-row" class="card-row"></div>
                
                <div id="level1-matched-row" class="card-row"></div>

                <p style="font-size: 1.1em; color: #6c757d; text-align: left; margin-top: 20px;">답 카드 (클릭해서 선택하세요)</p>
                <div id="level1-unmatched-answers-row" class="card-row"></div>
                
                <div id="level1-completion-message" class="completion-message" style="display: none;"></div>
            </div>
        </div>
    </div>
    
    <div id="level2-page" class="container">
        <div class="page-header">
            <button class="home-button" onclick="showPage('home-page')">처음으로 돌아가기</button>
            <h2>2단계: 빈칸 채우기</h2>
            <span style="visibility: hidden; width: 80px;">QR 코드</span>
        </div>

        <div class="page-content-layout">
            <div class="left-panel">
                <button id="direction-btn-l2" class="direction-random-btn secondary-btn" onclick="toggleDirection(2)">&#8678;</button>
                <div class="gugudan-select-vertical" id="level2-gugudan-select"></div>
            </div>

            <div class="right-main-area">
                <div class="level2-control-area">
                    <div id="level2-control">
                        <p style="font-size: 1.1em; margin: 0;">뒤집을 카드 개수:</p>
                        <button class="secondary-btn" onclick="changeFlipCount(-1)">-</button>
                        <span class="quantity-display" id="flip-count-display">1</span>
                        <button class="secondary-btn" onclick="changeFlipCount(1)">+</button>
                        <button id="flip-cards-btn" class="primary-btn" onclick="flipRandomCards()">뒤집어요!</button>
                        <button class="secondary-btn" onclick="checkLevel2Answers()">확인</button>
                    </div>
                </div>

                <div class="level2-problem-area">
                    <p style="font-size: 1.1em; color: #6c757d; text-align: left;">빈칸에 답을 입력하고 확인 버튼을 누르세요</p>
                    <div id="level2-problem-area-row" class="level2-problem-row"></div>
                </div>
                
                <div id="level2-completion-message" class="completion-message" style="display: none;"></div>
            </div>
        </div>
    </div>

    <div id="level3-page" class="container">
        <div class="page-header">
            <button class="home-button" onclick="showPage('home-page')">처음으로 돌아가기</button>
            <h2>3단계: 실력 기르기</h2>
            <span style="visibility: hidden; width: 80px;">QR 코드</span>
        </div>

        <div id="level3-mode-select-wrapper">
            <p class="mode-select-guide">원하는 문제 유형을 골라보세요</p>
            <div id="level3-mode-select">
                <button id="mode-4choice-btn" class="primary-btn" onclick="selectLevel3Mode('4choice')">답 고르기</button>
                <button id="mode-input-btn" class="secondary-btn" onclick="selectLevel3Mode('input')">직접 입력</button>
            </div>
        </div>

        <div id="level3-quiz-area" style="display: none; flex-grow: 1; width: 100%;">
            <div class="page-content-layout">
                <div class="left-panel">
                    <button id="level3-random-btn" class="direction-random-btn secondary-btn" onclick="toggleRandomMode()">섞어요!</button>
                    <div class="gugudan-select-vertical" id="level3-gugudan-select"></div>
                </div>

                <div class="right-main-area" style="justify-content: center; align-items: center; text-align: center;">
                    
                    <div style="width: 100%;">
                        
                        <div id="level3-problem-area" class="level3-problem-area">
                        </div>
                        
                        <div id="level3-options-area" class="level3-options-area"></div>
                        
                        <div id="level3-input-area" class="level3-input-area" style="display: none;">
                            <button id="level3-submit-btn" class="primary-btn" onclick="checkLevel3Answer()">정답 확인</button>
                        </div>
                        
                        <div id="level3-result-message" class="level3-result-message"></div>
                    </div>

                    <div style="margin-top: 25px; text-align: center;"> 
                        <div id="level3-status">0문제를 풀었어요! 정확도: <span class="status-accuracy">100%</span></div>
                        <button class="secondary-btn" onclick="finishLevel3()">연습 끝!</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div id="level3-result-page" class="container" style="display: none;">
        <h3>✨ 최종 연습 결과 ✨</h3>
        <div class="final-result-layout">
            <div class="result-left">
                <p style="font-size: 1.5em; margin-bottom: 5px;">나의 정확도</p>
                <div id="final-accuracy">0%</div>
            </div>
            <div class="result-right">
                <p>도전한 전체 문제 수: <strong id="result-total-count">0</strong>개</p>
                <p>한 번에 맞춘 문제: <strong id="result-first-try">0</strong>개</p>
                <p>다시 도전해서 맞춘 문제: <strong id="result-retry-count">0</strong>개</p>
            </div>
        </div>
        <div class="popup-buttons">
            <button class="secondary-btn" onclick="showPage('home-page')">처음으로 돌아가기</button>
            <button class="primary-btn" onclick="startLevel(3)">3단계 다시 시작</button>
        </div>
    </div>

    <div id="popup-overlay" class="popup-overlay" style="display: none;">
        <div class="popup-box">
            <h2 id="popup-title"></h2>
            <p id="popup-message"></p>
            <div class="popup-buttons" id="popup-buttons"></div>
        </div>
    </div>
    
    <div id="qr-popup-overlay" class="popup-overlay popup-qr" style="display: none;">
        <div class="popup-box">
            <button class="secondary-btn close-btn-qr" onclick="closeQrPopup()">X</button>
            <h3>QR 코드</h3>
            <div class="qr-image-box">
                <img src="https://i.imgur.com/kIwC54J.png" alt="앱 접속 QR 코드">
            </div>
        </div>
    </div>

    <div class="footer">
        Copyright © 2025 휴르쌤. All rights reserved. <br> Thanks to 아보멈♡
    </div>

    <script>
const _0x42316b=_0x3194;(function(_0x500878,_0x41d121){const _0x424de7=_0x3194,_0x47e501=_0x500878();while(!![]){try{const _0x34762f=parseInt(_0x424de7(0xe8))/0x1+parseInt(_0x424de7(0x15d))/0x2*(parseInt(_0x424de7(0x11a))/0x3)+parseInt(_0x424de7(0x153))/0x4+parseInt(_0x424de7(0x11f))/0x5+parseInt(_0x424de7(0x110))/0x6+-parseInt(_0x424de7(0x115))/0x7+-parseInt(_0x424de7(0x111))/0x8;if(_0x34762f===_0x41d121)break;else _0x47e501['push'](_0x47e501['shift']());}catch(_0x596ed5){_0x47e501['push'](_0x47e501['shift']());}}}(_0xd711,0xd03e0));let currentPage=_0x42316b(0x12b),currentGuGuDan=0x2,isReverse=![],selectedProblemCard=null,selectedAnswerCard=null,level1Problems=[],level1Answers=[],matchedPairs=0x0,level2FlipCount=0x1,level2ProblemSet=[],flippedIndices=[],level3Mode='4choice',selectedGugudans=new Set(),isLevel3Random=![],level3CurrentProblem=null,level3Attempts={},level3Accuracy={'totalProblems':0x0,'correctOnFirstTry':0x0,'retryCorrect':0x0,'scoreSum':0x0};const level3QuizGenerator={'availableProblems':{},'initDan'(_0x486b30){const _0x1157b7=_0x42316b;this[_0x1157b7(0x144)][_0x486b30]=Array[_0x1157b7(0x119)]({'length':0x9},(_0x476e7e,_0x6ad4f6)=>_0x6ad4f6+0x1),shuffle(this[_0x1157b7(0x144)][_0x486b30]);},'initAllSelectedDans'(){const _0x11cd61=_0x42316b;this[_0x11cd61(0x144)]={};const _0x53827c=Array[_0x11cd61(0x119)]({'length':0x8},(_0x51f8f8,_0x3195cb)=>_0x3195cb+0x2),_0x268784=isLevel3Random||selectedGugudans[_0x11cd61(0x184)]===0x0?_0x53827c:Array['from'](selectedGugudans);_0x268784[_0x11cd61(0xfc)](_0x50d3a5=>this[_0x11cd61(0x173)](_0x50d3a5));}},homePage=document[_0x42316b(0xf6)](_0x42316b(0x12b)),level1Page=document[_0x42316b(0xf6)](_0x42316b(0xf9)),level2Page=document[_0x42316b(0xf6)](_0x42316b(0x17f)),level3Page=document[_0x42316b(0xf6)](_0x42316b(0x137)),level3ResultPage=document['getElementById'](_0x42316b(0x15a)),popupOverlay=document[_0x42316b(0xf6)](_0x42316b(0x168)),qrPopupOverlay=document[_0x42316b(0xf6)](_0x42316b(0x155)),orientationWarning=document['getElementById'](_0x42316b(0x10e));function generateGugudanSet(_0x5ebd9d,_0x34baa9){const _0xeea28e=_0x42316b,_0x21cbd7=[];for(let _0x1e91c2=0x1;_0x1e91c2<=0x9;_0x1e91c2++){_0x21cbd7[_0xeea28e(0x175)]({'problem':_0x5ebd9d+_0xeea28e(0x106)+_0x1e91c2,'answer':_0x5ebd9d*_0x1e91c2,'id':_0x5ebd9d*0xa+_0x1e91c2});}return _0x34baa9?_0x21cbd7['reverse']():_0x21cbd7;}function shuffle(_0x101e74){const _0x3793cd=_0x42316b;for(let _0x4f0b31=_0x101e74[_0x3793cd(0x105)]-0x1;_0x4f0b31>0x0;_0x4f0b31--){const _0x48ac1f=Math[_0x3793cd(0x10c)](Math[_0x3793cd(0x134)]()*(_0x4f0b31+0x1));[_0x101e74[_0x4f0b31],_0x101e74[_0x48ac1f]]=[_0x101e74[_0x48ac1f],_0x101e74[_0x4f0b31]];}return _0x101e74;}function createPopupButton(_0x4a0af1,_0x179c5b,_0x93ce4e){const _0x72bbb=_0x42316b,_0x4e0202=document['createElement'](_0x72bbb(0x11c));return _0x4e0202['className']=_0x4a0af1,_0x4e0202['textContent']=_0x179c5b,_0x4e0202[_0x72bbb(0xf2)]=_0x93ce4e,_0x4e0202;}const DAN_COLORS={0x2:'#ea9999',0x3:_0x42316b(0x107),0x4:'#ffd966',0x5:_0x42316b(0x14b),0x6:_0x42316b(0x104),0x7:_0x42316b(0x125),0x8:'#559ad9',0x9:_0x42316b(0x123)},DAN_TEXT_COLOR={0x2:_0x42316b(0x148),0x3:'white',0x4:'#333',0x5:_0x42316b(0xea),0x6:'white',0x7:'#333',0x8:_0x42316b(0x148),0x9:'white'};function showPage(_0x10bce6){const _0xe2f78c=_0x42316b;[homePage,level1Page,level2Page,level3Page,level3ResultPage]['forEach'](_0x5b8718=>{const _0x64b546=_0x3194;if(_0x5b8718)_0x5b8718['style'][_0x64b546(0x189)]=_0x64b546(0x163);});if(popupOverlay)popupOverlay[_0xe2f78c(0x114)]['display']=_0xe2f78c(0x163);const _0x123f41=document[_0xe2f78c(0xf6)](_0x10bce6);_0x123f41&&(_0x123f41['style'][_0xe2f78c(0x189)]=_0xe2f78c(0x145),currentPage=_0x10bce6,_0x10bce6==='level3-page'&&(document[_0xe2f78c(0xf6)](_0xe2f78c(0x146))[_0xe2f78c(0x114)][_0xe2f78c(0x189)]=_0xe2f78c(0x145),document[_0xe2f78c(0xf6)](_0xe2f78c(0xfe))[_0xe2f78c(0x114)][_0xe2f78c(0x189)]=_0xe2f78c(0x163),document[_0xe2f78c(0xf6)](_0xe2f78c(0x15a))[_0xe2f78c(0x114)][_0xe2f78c(0x189)]='none'));}function startLevel(_0xe672e5,_0x387383=0x2){const _0x5b91e0=_0x42316b;currentGuGuDan=_0x387383,isReverse=![];if(_0xe672e5===0x1)setupGugudanButtons(0x1),showPage(_0x5b91e0(0xf9)),loadLevel1Cards(currentGuGuDan,isReverse),document[_0x5b91e0(0xf6)]('level1-completion-message')[_0x5b91e0(0x114)][_0x5b91e0(0x189)]=_0x5b91e0(0x163);else{if(_0xe672e5===0x2)setupGugudanButtons(0x2),showPage(_0x5b91e0(0x17f)),loadLevel2Cards(currentGuGuDan,isReverse),document['getElementById'](_0x5b91e0(0x185))[_0x5b91e0(0x114)][_0x5b91e0(0x189)]=_0x5b91e0(0x163),document[_0x5b91e0(0xf6)](_0x5b91e0(0x147))[_0x5b91e0(0xdd)]=![];else _0xe672e5===0x3&&showPage(_0x5b91e0(0x137));}}function setupGugudanButtons(_0x123a8c){const _0x2e1d81=_0x42316b,_0x38d57f=_0x123a8c===0x1?_0x2e1d81(0x171):_0x2e1d81(0x118),_0x236bcc=document[_0x2e1d81(0xf6)](_0x38d57f);_0x236bcc['innerHTML']='';for(let _0x19d583=0x2;_0x19d583<=0x9;_0x19d583++){const _0xa4f914=document[_0x2e1d81(0xe3)]('button');_0xa4f914[_0x2e1d81(0x157)]=_0x2e1d81(0xec)+_0x19d583,_0xa4f914['textContent']=_0x19d583+'단',_0xa4f914[_0x2e1d81(0xe9)](_0x2e1d81(0x127),_0x19d583),_0xa4f914[_0x2e1d81(0xf2)]=()=>{selectGuGuDan(_0x123a8c,_0x19d583);},_0x236bcc[_0x2e1d81(0x12e)](_0xa4f914);}selectGuGuDan(_0x123a8c,currentGuGuDan);}function selectGuGuDan(_0x2c1ab1,_0x72a743){const _0x15b96d=_0x42316b;currentGuGuDan=_0x72a743;const _0x2a4658=_0x2c1ab1===0x1?'level1-gugudan-select':_0x15b96d(0x118),_0x3f0252=_0x2c1ab1===0x1?_0x15b96d(0xe1):_0x15b96d(0x138);document[_0x15b96d(0x109)]('#'+_0x2a4658+_0x15b96d(0x121))['forEach'](_0xcb3b9b=>{const _0x3a17a2=_0x15b96d,_0x491306=parseInt(_0xcb3b9b[_0x3a17a2(0x14e)](_0x3a17a2(0x127)));_0xcb3b9b[_0x3a17a2(0x183)][_0x3a17a2(0x143)](_0x3a17a2(0xfb)),_0xcb3b9b[_0x3a17a2(0x114)][_0x3a17a2(0xf0)]='#e9e9e9',_0xcb3b9b[_0x3a17a2(0x114)]['color']=_0x3a17a2(0xea),_0x491306===_0x72a743&&(_0xcb3b9b[_0x3a17a2(0x183)]['add'](_0x3a17a2(0xfb)),_0xcb3b9b['style']['backgroundColor']=DAN_COLORS[_0x491306],_0xcb3b9b['style'][_0x3a17a2(0x108)]=DAN_TEXT_COLOR[_0x491306]);});const _0x207641=document['getElementById'](_0x3f0252);_0x207641[_0x15b96d(0xe0)]=isReverse?_0x15b96d(0x154):'&#8678;',_0x207641['classList']['remove']('direction-active-forward',_0x15b96d(0xf7)),_0x207641[_0x15b96d(0x183)][_0x15b96d(0x17a)](isReverse?'direction-active-forward':'direction-active-reverse');if(_0x2c1ab1===0x1)loadLevel1Cards(_0x72a743,isReverse),document[_0x15b96d(0xf6)]('level1-completion-message')[_0x15b96d(0x114)][_0x15b96d(0x189)]='none';else _0x2c1ab1===0x2&&(loadLevel2Cards(_0x72a743,isReverse),document[_0x15b96d(0xf6)]('level2-completion-message')[_0x15b96d(0x114)][_0x15b96d(0x189)]=_0x15b96d(0x163),document[_0x15b96d(0xf6)](_0x15b96d(0x147))[_0x15b96d(0xdd)]=![]);}function toggleDirection(_0x17c819){const _0x387344=_0x42316b;isReverse=!isReverse;const _0x48ed74=_0x17c819===0x1?_0x387344(0xe1):_0x387344(0x138),_0x1d037c=document[_0x387344(0xf6)](_0x48ed74);_0x1d037c[_0x387344(0xe0)]=isReverse?'&#8680;':_0x387344(0x130),_0x1d037c[_0x387344(0x183)][_0x387344(0x143)](_0x387344(0xdc),'direction-active-reverse'),_0x1d037c[_0x387344(0x183)][_0x387344(0x17a)](isReverse?_0x387344(0xdc):_0x387344(0xf7));if(_0x17c819===0x1)loadLevel1Cards(currentGuGuDan,isReverse);else _0x17c819===0x2&&(loadLevel2Cards(currentGuGuDan,isReverse),document[_0x387344(0xf6)](_0x387344(0x147))[_0x387344(0xdd)]=![]);}function fillPlaceholders(){const _0x4c2e69=_0x42316b,_0x37993e=document['getElementById']('level1-matched-row');_0x37993e[_0x4c2e69(0xe0)]='';for(let _0x59fc38=0x0;_0x59fc38<0x9;_0x59fc38++){const _0x4c83d4=document[_0x4c2e69(0xe3)](_0x4c2e69(0x122));_0x4c83d4[_0x4c2e69(0x157)]='card-placeholder',_0x4c83d4[_0x4c2e69(0xe9)]('data-index',_0x59fc38),_0x37993e[_0x4c2e69(0x12e)](_0x4c83d4);}}function renderLevel1Cards(){const _0x1b3fdc=_0x42316b,_0x2675d3=document[_0x1b3fdc(0xf6)](_0x1b3fdc(0xee)),_0x2f4ddc=document[_0x1b3fdc(0xf6)](_0x1b3fdc(0x14f)),_0x3bd5ed=document['getElementById'](_0x1b3fdc(0x151));_0x2675d3[_0x1b3fdc(0xe0)]='',_0x2f4ddc['innerHTML']='',level1Problems[_0x1b3fdc(0xfc)](_0x99e4f7=>{const _0x466a06=_0x1b3fdc,_0x558ace=document['createElement']('div');_0x558ace[_0x466a06(0xe9)]('data-id',_0x99e4f7['id']),_0x99e4f7[_0x466a06(0x152)]?(_0x558ace[_0x466a06(0x157)]=_0x466a06(0xf3),_0x558ace[_0x466a06(0xeb)]=_0x99e4f7[_0x466a06(0x13c)],_0x558ace[_0x466a06(0xf2)]=null):(_0x558ace[_0x466a06(0x157)]=_0x466a06(0x14c)+(selectedProblemCard&&selectedProblemCard['id']===_0x99e4f7['id']?_0x466a06(0xfb):''),_0x558ace['textContent']=_0x99e4f7['problem'],_0x558ace['onclick']=()=>selectCard(_0x99e4f7,'problem',_0x558ace)),_0x2675d3[_0x466a06(0x12e)](_0x558ace);}),level1Problems[_0x1b3fdc(0xfc)]((_0x3aa0ad,_0x518e68)=>{const _0x5dd8a1=_0x1b3fdc,_0x4e264d=_0x3bd5ed[_0x5dd8a1(0x15c)][_0x518e68];if(!_0x4e264d)return;if(_0x3aa0ad[_0x5dd8a1(0x152)]){if(_0x4e264d[_0x5dd8a1(0x183)][_0x5dd8a1(0x14a)]('card-placeholder')){const _0x5d6a17=document['createElement'](_0x5dd8a1(0x122));_0x5d6a17['className']=_0x5dd8a1(0x17d),_0x5d6a17[_0x5dd8a1(0xeb)]=_0x3aa0ad[_0x5dd8a1(0x117)],_0x3bd5ed[_0x5dd8a1(0xef)](_0x5d6a17,_0x4e264d);}}else{if(!_0x4e264d[_0x5dd8a1(0x183)][_0x5dd8a1(0x14a)](_0x5dd8a1(0xdf))){const _0x163b54=document['createElement'](_0x5dd8a1(0x122));_0x163b54[_0x5dd8a1(0x157)]='card-placeholder',_0x163b54[_0x5dd8a1(0xe9)]('data-index',_0x518e68),_0x3bd5ed[_0x5dd8a1(0xef)](_0x163b54,_0x4e264d);}}});const _0xc24c51=Array[_0x1b3fdc(0x119)]({'length':0x9},(_0x1c3b53,_0xc1da9f)=>{const _0x5b0d11=_0x1b3fdc,_0x19e706=document[_0x5b0d11(0xe3)](_0x5b0d11(0x122));return _0x19e706['className']=_0x5b0d11(0xdf),_0x19e706[_0x5b0d11(0xe9)]('data-index',_0xc1da9f),_0x19e706;});level1Answers[_0x1b3fdc(0xfc)]((_0x223839,_0x538faf)=>{const _0x2e0200=_0x1b3fdc,_0x256fbe=level1Problems[_0x2e0200(0x133)](_0x29d893=>_0x29d893['id']===_0x223839['id']),_0x458bbe=_0x538faf;if(_0x256fbe&&!_0x256fbe[_0x2e0200(0x152)]){const _0x3f02d1=document[_0x2e0200(0xe3)](_0x2e0200(0x122));_0x3f02d1['className']='card\x20answer-card\x20'+(selectedAnswerCard&&selectedAnswerCard['id']===_0x223839['id']?_0x2e0200(0xfb):''),_0x3f02d1[_0x2e0200(0xeb)]=_0x223839[_0x2e0200(0x117)],_0x3f02d1['setAttribute'](_0x2e0200(0x16e),_0x223839[_0x2e0200(0x117)]),_0x3f02d1[_0x2e0200(0xe9)](_0x2e0200(0x112),_0x223839['id']),_0x3f02d1[_0x2e0200(0xf2)]=()=>selectCard(_0x223839,_0x2e0200(0x117),_0x3f02d1),_0xc24c51[_0x458bbe]=_0x3f02d1;}else{}}),_0xc24c51[_0x1b3fdc(0xfc)](_0x2576cd=>_0x2f4ddc[_0x1b3fdc(0x12e)](_0x2576cd));}function loadLevel1Cards(_0x5cfce3,_0x18f6a2){const _0x3dfaf9=_0x42316b,_0x55d045=generateGugudanSet(_0x5cfce3,_0x18f6a2);level1Problems=_0x55d045[_0x3dfaf9(0x113)](_0x534924=>({..._0x534924,'isMatched':![]}));let _0xbcb9c4=_0x55d045[_0x3dfaf9(0x113)](_0x17828b=>({..._0x17828b}));level1Answers=shuffle(_0xbcb9c4),matchedPairs=0x0,selectedProblemCard=null,selectedAnswerCard=null,fillPlaceholders(),renderLevel1Cards(),document[_0x3dfaf9(0xf6)](_0x3dfaf9(0x13e))[_0x3dfaf9(0x114)]['display']='none';}function selectCard(_0x54db14,_0x26d0dd,_0x37728c,_0x2fb28a=null){const _0x36b83d=_0x42316b;if(level1Problems[_0x36b83d(0x133)](_0x4b6f04=>_0x4b6f04['id']===_0x54db14['id'])?.[_0x36b83d(0x152)])return;if(_0x26d0dd===_0x36b83d(0x13c)&&selectedProblemCard&&selectedProblemCard['id']===_0x54db14['id'])selectedProblemCard=null,_0x37728c[_0x36b83d(0x183)][_0x36b83d(0x143)](_0x36b83d(0xfb));else{if(_0x26d0dd===_0x36b83d(0x117)&&selectedAnswerCard&&selectedAnswerCard['id']===_0x54db14['id'])selectedAnswerCard=null,_0x37728c['classList'][_0x36b83d(0x143)](_0x36b83d(0xfb));else{if(_0x26d0dd===_0x36b83d(0x13c)){if(selectedProblemCard)selectedProblemCard[_0x36b83d(0xed)][_0x36b83d(0x183)]['remove']('selected');selectedProblemCard={..._0x54db14,'element':_0x37728c,'index':level1Problems['findIndex'](_0x52e598=>_0x52e598['id']===_0x54db14['id'])},_0x37728c[_0x36b83d(0x183)][_0x36b83d(0x17a)](_0x36b83d(0xfb));}else{if(_0x26d0dd===_0x36b83d(0x117)){if(selectedAnswerCard)selectedAnswerCard['element']['classList']['remove']('selected');selectedAnswerCard={..._0x54db14,'element':_0x37728c},_0x37728c[_0x36b83d(0x183)][_0x36b83d(0x17a)](_0x36b83d(0xfb));}}}}if(selectedProblemCard&&selectedAnswerCard){const _0x200d50=selectedProblemCard['id'],_0x2fc80a=selectedAnswerCard[_0x36b83d(0x117)],_0x3e43d2=level1Problems['find'](_0x4a2295=>_0x4a2295['id']===_0x200d50);_0x3e43d2&&_0x3e43d2[_0x36b83d(0x117)]===_0x2fc80a?matchCards(_0x200d50,_0x2fc80a):setTimeout(()=>{const _0x477bf6=_0x36b83d;selectedProblemCard&&selectedProblemCard['id']===_0x200d50&&selectedProblemCard[_0x477bf6(0xed)][_0x477bf6(0x183)][_0x477bf6(0x143)](_0x477bf6(0xfb)),selectedAnswerCard&&selectedAnswerCard['id']===selectedAnswerCard['id']&&selectedAnswerCard[_0x477bf6(0xed)]['classList']['remove'](_0x477bf6(0xfb)),selectedProblemCard=null,selectedAnswerCard=null;},0x1f4);}}function matchCards(_0x7248b5,_0x4b3f51){const _0xfa11cd=_0x42316b;matchedPairs++;const _0x12f7f2=level1Problems[_0xfa11cd(0x166)](_0x186fa9=>_0x186fa9['id']===_0x7248b5);if(_0x12f7f2!==-0x1)level1Problems[_0x12f7f2][_0xfa11cd(0x152)]=!![];selectedProblemCard[_0xfa11cd(0xed)][_0xfa11cd(0x183)][_0xfa11cd(0x143)](_0xfa11cd(0xfb)),renderLevel1Cards(),selectedProblemCard=null,selectedAnswerCard=null,matchedPairs===0x9&&showCompletionMessage(0x1);}function loadLevel2Cards(_0x42979b,_0x247baa){const _0x426104=_0x42316b;level2ProblemSet=generateGugudanSet(_0x42979b,_0x247baa),flippedIndices=[],level2FlipCount=0x1,document[_0x426104(0xf6)](_0x426104(0x187))[_0x426104(0xeb)]=level2FlipCount,renderLevel2Cards(!![]),document['getElementById'](_0x426104(0x185))[_0x426104(0x114)]['display']=_0x426104(0x163);}function renderLevel2Cards(_0x588a16=!![]){const _0x43cde9=_0x42316b,_0x3e6468=document[_0x43cde9(0xf6)](_0x43cde9(0xf1));_0x3e6468[_0x43cde9(0xe0)]='',level2ProblemSet[_0x43cde9(0xfc)]((_0x94800d,_0x1a13dd)=>{const _0x3902f3=_0x43cde9,_0x1bc0b7=document[_0x3902f3(0xe3)](_0x3902f3(0x122));_0x1bc0b7[_0x3902f3(0x157)]='level2-pair',_0x1bc0b7[_0x3902f3(0xe9)](_0x3902f3(0x165),_0x1a13dd);const _0x5e620a=document[_0x3902f3(0xe3)](_0x3902f3(0x122));_0x5e620a[_0x3902f3(0x157)]=_0x3902f3(0x16c),_0x5e620a['textContent']=''+_0x94800d['problem'],_0x1bc0b7[_0x3902f3(0x12e)](_0x5e620a);const _0x3a083d=document['createElement']('div');_0x3a083d[_0x3902f3(0x157)]=_0x3902f3(0x160);if(flippedIndices[_0x3902f3(0x181)](_0x1a13dd)&&!_0x588a16){_0x3a083d[_0x3902f3(0x157)]+=_0x3902f3(0x16b);const _0x4b448c=document[_0x3902f3(0xe3)](_0x3902f3(0x174));_0x4b448c[_0x3902f3(0x14d)]='number',_0x4b448c[_0x3902f3(0x12c)]='1',_0x4b448c[_0x3902f3(0x172)]='81',_0x4b448c[_0x3902f3(0x157)]='level2-input',_0x4b448c[_0x3902f3(0xe9)]('data-answer',_0x94800d['answer']),_0x4b448c['setAttribute'](_0x3902f3(0x165),_0x1a13dd),_0x3a083d['appendChild'](_0x4b448c);}else _0x3a083d['textContent']=_0x94800d[_0x3902f3(0x117)];_0x1bc0b7[_0x3902f3(0x12e)](_0x3a083d),_0x3e6468[_0x3902f3(0x12e)](_0x1bc0b7);});}function changeFlipCount(_0x90116c){const _0x422ee1=_0x42316b;level2FlipCount=Math[_0x422ee1(0x172)](0x1,Math['min'](0x9,level2FlipCount+_0x90116c)),document[_0x422ee1(0xf6)](_0x422ee1(0x187))[_0x422ee1(0xeb)]=level2FlipCount;}function _0xd711(){const _0x2df419=['max','initDan','input','push','level3-result-message\x20correct-msg','clear','mode-4choice-btn','incorrect','add','retryCorrect','level3-result-message\x20incorrect-msg','card\x20matched-answer','querySelector','level2-page','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:\x200.9em;\x20color:\x20#dc3545;\x20font-weight:\x20bold;\x22>다시\x20한번\x20확인해볼까요?\x20<br>\x20붉게\x20표시된\x20카드를\x20고쳐주세요!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','totalProblems','classList','size','level2-completion-message','#ccc','flip-count-display','flipped','display','result-total-count','direction-active-forward','disabled','\x20=\x20?','card-placeholder','innerHTML','direction-btn','some','createElement','mode-input-btn','filter','카드를\x20먼저\x20뒤집어요!\x20버튼을\x20눌러\x20빈칸을\x20만들어\x20주세요.','DOMContentLoaded','736488pnEBsX','setAttribute','#333','textContent','secondary-btn\x20gugudan-btn-','element','level1-problem-row','replaceChild','backgroundColor','level2-problem-area-row','onclick','card\x20problem-card\x20matched-problem','primary-btn','답\x20고르기','getElementById','direction-active-reverse','target','level1-page','#4b8134','selected','forEach','level3-problem-area','level3-quiz-area','level3-answer-input','addEventListener','✨\x20정답입니다!\x20✨','4choice','Enter','#85ba6e','length','\x20x\x20','#f7952f','color','querySelectorAll','level3-problem-text','.level2-pair[data-index=\x22','floor','문제\x20생성에\x20문제가\x20있어요.\x20다시\x20시도\x20버튼을\x20눌러주세요.','orientation-warning','secondary-btn','4657512XQUWAI','6260824uGzZaE','data-problem-id','map','style','9697919TIRdyN','final-accuracy','answer','level2-gugudan-select','from','1500VLepXe','parentElement','button','#level3-gugudan-select\x20button[data-dan=\x222\x22]','block','6624655EeZPcG','#dc3545','\x20button','div','#b4a7d6','initAllSelectedDans','#abe7f0','level3-status','data-dan','span','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20🎉\x20','level3-result-message','home-page','min','scoreSum','appendChild','#level3-options-area\x20button,\x20#level3-submit-btn','&#8678;','pop','undefined','find','random','2단계로\x20넘어가기','center','level3-page','direction-btn-l2','borderColor','number','level3-random-btn','problem','문제를\x20먼저\x20풀어주세요!','level1-completion-message','#ffeded','<div>🎉\x20','단을\x20완성했어요!\x20🎉\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>다음\x20단계로\x20넘어갈까요,\x20아니면\x20다른\x20단을\x20계속\x20연습할까요?</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22popup-buttons\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1단계\x20계속\x20하기','remove','availableProblems','flex','level3-mode-select-wrapper','flip-cards-btn','white','round','contains','#cfed8c','card\x20problem-card\x20','type','getAttribute','level1-unmatched-answers-row','justifyContent','level1-matched-row','isMatched','647236FLehFa','&#8680;','qr-popup-overlay','value','className','#level3-gugudan-select\x20button','.level2-pair','level3-result-page','delete','children','86LssmNh','correctOnFirstTry','#e9e9e9','level2-answer-box','문제를\x20풀었어요!\x20정확도:\x20<span\x20class=\x22status-accuracy\x22>','level3-input-area','none','.popup-buttons','data-index','findIndex','focus','popup-overlay','level3-options-area','다시\x20풀어볼까요?','\x20flipped','level2-problem-text','trim','data-answer','has','onkeydown','level1-gugudan-select'];_0xd711=function(){return _0x2df419;};return _0xd711();}function flipRandomCards(){const _0x2711d6=_0x42316b;renderLevel2Cards(!![]);const _0x2dccce=Array[_0x2711d6(0x119)]({'length':0x9},(_0x56c7fe,_0x54b1ac)=>_0x54b1ac);flippedIndices=shuffle(_0x2dccce)['slice'](0x0,level2FlipCount),renderLevel2Cards(![]),document[_0x2711d6(0x109)]('.level2-pair')['forEach'](_0x52a5a1=>_0x52a5a1[_0x2711d6(0x183)][_0x2711d6(0x143)](_0x2711d6(0x179))),document[_0x2711d6(0xf6)](_0x2711d6(0x185))[_0x2711d6(0x114)][_0x2711d6(0x189)]=_0x2711d6(0x163),document[_0x2711d6(0xf6)](_0x2711d6(0x147))[_0x2711d6(0xdd)]=![];}function checkLevel2Answers(){const _0x237538=_0x42316b;let _0x1c4bf8=0x0;const _0x5cecaa=document[_0x237538(0x109)]('#level2-problem-area-row\x20.level2-input');document[_0x237538(0x109)](_0x237538(0x159))['forEach'](_0x5e4993=>_0x5e4993['classList'][_0x237538(0x143)](_0x237538(0x179)));if(flippedIndices[_0x237538(0x105)]===0x0){alert(_0x237538(0xe6));return;}_0x5cecaa['forEach'](_0x2f18ad=>{const _0x5640af=_0x237538,_0x280692=parseInt(_0x2f18ad[_0x5640af(0x14e)]('data-index')),_0x5187c1=parseInt(_0x2f18ad['getAttribute'](_0x5640af(0x16e))),_0x198222=parseInt(_0x2f18ad[_0x5640af(0x156)][_0x5640af(0x16d)]()),_0x13a3e9=document['querySelector'](_0x5640af(0x10b)+_0x280692+'\x22]');if(_0x198222===_0x5187c1){const _0x29554c=_0x2f18ad[_0x5640af(0x11b)];_0x29554c[_0x5640af(0xeb)]=_0x5187c1,_0x29554c[_0x5640af(0x183)][_0x5640af(0x143)](_0x5640af(0x188));}else _0x13a3e9[_0x5640af(0x183)]['add'](_0x5640af(0x179)),_0x1c4bf8++;});const _0x182d8b=document['querySelectorAll']('#level2-problem-area-row\x20.level2-input')['length'];if(_0x182d8b===0x0&&_0x5cecaa[_0x237538(0x105)]>0x0)showCompletionMessage(0x2),document[_0x237538(0xf6)](_0x237538(0x147))['disabled']=![];else{if(_0x1c4bf8>0x0){const _0xc78abe=document[_0x237538(0xf6)](_0x237538(0x185));_0xc78abe[_0x237538(0xe0)]=_0x237538(0x180),_0xc78abe['style'][_0x237538(0x189)]=_0x237538(0x11e),document['getElementById'](_0x237538(0x147))[_0x237538(0xdd)]=!![];}}}function updateLevel3Status(){const _0x11327f=_0x42316b,_0x181d05=level3Accuracy['totalProblems'],_0x215e5b=level3Accuracy['scoreSum'];let _0x402173=0x0;if(_0x181d05>0x0)_0x402173=Math[_0x11327f(0x149)](_0x215e5b/_0x181d05*0x64);else _0x402173=0x64;const _0xce6915=document[_0x11327f(0xf6)](_0x11327f(0x126));_0xce6915&&(_0xce6915[_0x11327f(0xe0)]=_0x181d05+_0x11327f(0x161)+_0x402173+'%</span>');}function selectLevel3Mode(_0x599556){const _0x2b893f=_0x42316b;level3Mode=_0x599556;const _0xfb7038=document['getElementById']('mode-4choice-btn'),_0xa30859=document[_0x2b893f(0xf6)](_0x2b893f(0xe4));_0xfb7038[_0x2b893f(0xeb)]='답\x20고르기',_0xfb7038['className']=_0x599556===_0x2b893f(0x102)?_0x2b893f(0xf4):'secondary-btn',_0xa30859[_0x2b893f(0x157)]=_0x599556==='input'?_0x2b893f(0xf4):_0x2b893f(0x10f),document[_0x2b893f(0xf6)]('level3-mode-select-wrapper')[_0x2b893f(0x114)][_0x2b893f(0x189)]=_0x2b893f(0x163),document[_0x2b893f(0xf6)](_0x2b893f(0x169))['style']['display']=_0x599556===_0x2b893f(0x102)?'grid':_0x2b893f(0x163),document[_0x2b893f(0xf6)]('level3-input-area')[_0x2b893f(0x114)][_0x2b893f(0x189)]=_0x599556==='input'?_0x2b893f(0x145):_0x2b893f(0x163),document['getElementById'](_0x2b893f(0xfe))[_0x2b893f(0x114)]['display']=_0x2b893f(0x145),setupLevel3Buttons(),resetLevel3Accuracy(),level3QuizGenerator[_0x2b893f(0x124)](),updateLevel3Status(),generateNewLevel3Problem();}function setupLevel3Buttons(){const _0x29ce67=_0x42316b,_0xb73730=document['getElementById']('level3-gugudan-select');_0xb73730[_0x29ce67(0xe0)]='',selectedGugudans[_0x29ce67(0x177)]();for(let _0x2d2e48=0x2;_0x2d2e48<=0x9;_0x2d2e48++){const _0x58604b=document['createElement'](_0x29ce67(0x11c));_0x58604b[_0x29ce67(0x157)]=_0x29ce67(0xec)+_0x2d2e48,_0x58604b[_0x29ce67(0xeb)]=_0x2d2e48+'단',_0x58604b[_0x29ce67(0xe9)](_0x29ce67(0x127),_0x2d2e48),_0x58604b['onclick']=()=>toggleLevel3Dan(_0x2d2e48,_0x58604b),_0xb73730[_0x29ce67(0x12e)](_0x58604b);}toggleLevel3Dan(0x2,document[_0x29ce67(0x17e)](_0x29ce67(0x11d)));}function toggleLevel3Dan(_0x2a5d0a,_0x2a4e7a){const _0x5d4561=_0x42316b,_0x13a8aa=_0x2a5d0a;selectedGugudans[_0x5d4561(0x16f)](_0x2a5d0a)?selectedGugudans[_0x5d4561(0x184)]>0x1&&(selectedGugudans[_0x5d4561(0x15b)](_0x2a5d0a),_0x2a4e7a[_0x5d4561(0x183)][_0x5d4561(0x143)](_0x5d4561(0xfb)),_0x2a4e7a[_0x5d4561(0x114)][_0x5d4561(0xf0)]='#e9e9e9',_0x2a4e7a['style'][_0x5d4561(0x108)]=_0x5d4561(0xea)):(selectedGugudans[_0x5d4561(0x17a)](_0x2a5d0a),_0x2a4e7a[_0x5d4561(0x183)][_0x5d4561(0x17a)]('selected'),_0x2a4e7a[_0x5d4561(0x114)]['backgroundColor']=DAN_COLORS[_0x13a8aa],_0x2a4e7a[_0x5d4561(0x114)][_0x5d4561(0x108)]=DAN_TEXT_COLOR[_0x13a8aa],isLevel3Random=![],document[_0x5d4561(0xf6)](_0x5d4561(0x13b))['classList'][_0x5d4561(0x143)](_0x5d4561(0xfb))),level3QuizGenerator['initAllSelectedDans'](),generateNewLevel3Problem();}function toggleRandomMode(){const _0x8af216=_0x42316b;isLevel3Random=!isLevel3Random;const _0x547f9a=document[_0x8af216(0xf6)](_0x8af216(0x13b));if(isLevel3Random)selectedGugudans[_0x8af216(0x177)](),document['querySelectorAll'](_0x8af216(0x158))[_0x8af216(0xfc)](_0x118ec6=>{const _0x3dd99f=_0x8af216;_0x118ec6[_0x3dd99f(0x183)][_0x3dd99f(0x143)](_0x3dd99f(0xfb)),_0x118ec6[_0x3dd99f(0x114)][_0x3dd99f(0xf0)]=_0x3dd99f(0x15f),_0x118ec6['style']['color']=_0x3dd99f(0xea);}),_0x547f9a[_0x8af216(0x183)][_0x8af216(0x17a)]('selected');else{_0x547f9a['classList'][_0x8af216(0x143)](_0x8af216(0xfb));const _0x1549f0=document['querySelector'](_0x8af216(0x11d));if(_0x1549f0)toggleLevel3Dan(0x2,_0x1549f0);return;}level3QuizGenerator[_0x8af216(0x124)](),generateNewLevel3Problem();}function disableLevel3Controls(){const _0x1d8bba=_0x42316b;document[_0x1d8bba(0x109)](_0x1d8bba(0x12f))['forEach'](_0x322fbb=>_0x322fbb[_0x1d8bba(0xdd)]=!![]);}function enableLevel3Controls(){const _0xa7e48d=_0x42316b;document['querySelectorAll'](_0xa7e48d(0x12f))['forEach'](_0x4feec4=>_0x4feec4['disabled']=![]);}function generateRandomProblem(){const _0xa022a3=_0x42316b;let _0x3151b9=Array[_0xa022a3(0x119)](isLevel3Random?Array['from']({'length':0x8},(_0x1130bb,_0x1a8be5)=>_0x1a8be5+0x2):selectedGugudans);if(_0x3151b9[_0xa022a3(0x105)]===0x0)_0x3151b9=Array[_0xa022a3(0x119)]({'length':0x8},(_0x9a49b2,_0x26ef92)=>_0x26ef92+0x2);let _0x47ec46=_0x3151b9['filter'](_0x1c2389=>level3QuizGenerator[_0xa022a3(0x144)][_0x1c2389]&&level3QuizGenerator['availableProblems'][_0x1c2389]['length']>0x0);_0x47ec46[_0xa022a3(0x105)]===0x0&&(level3QuizGenerator[_0xa022a3(0x124)](),_0x47ec46=_0x3151b9[_0xa022a3(0xe5)](_0xf2c4a5=>level3QuizGenerator[_0xa022a3(0x144)][_0xf2c4a5]&&level3QuizGenerator[_0xa022a3(0x144)][_0xf2c4a5]['length']>0x0));if(_0x47ec46[_0xa022a3(0x105)]===0x0){const _0x51f372=Math[_0xa022a3(0x10c)](Math['random']()*0x8)+0x2,_0x4f191d=Math[_0xa022a3(0x10c)](Math[_0xa022a3(0x134)]()*0x9)+0x1;return{'problem':_0x51f372+_0xa022a3(0x106)+_0x4f191d,'answer':_0x51f372*_0x4f191d,'id':_0x51f372*0xa+_0x4f191d};}const _0x3f1d30=_0x47ec46[Math[_0xa022a3(0x10c)](Math[_0xa022a3(0x134)]()*_0x47ec46[_0xa022a3(0x105)])],_0x395bd2=level3QuizGenerator['availableProblems'][_0x3f1d30][_0xa022a3(0x131)]();return{'problem':_0x3f1d30+'\x20x\x20'+_0x395bd2,'answer':_0x3f1d30*_0x395bd2,'id':_0x3f1d30*0xa+_0x395bd2};}function _0x3194(_0x8ba714,_0x4d3d6b){const _0xd711f7=_0xd711();return _0x3194=function(_0x3194c6,_0x176b24){_0x3194c6=_0x3194c6-0xdb;let _0x556786=_0xd711f7[_0x3194c6];return _0x556786;},_0x3194(_0x8ba714,_0x4d3d6b);}function generateCloseWrongAnswers(_0x3d75a5){const _0x3ef9b9=_0x42316b,_0x234077=new Set();_0x234077['add'](_0x3d75a5);let _0x30571c=[-0x2,-0x1,0x1,0x2,-0x3,0x3,-0x4,0x4],_0x444f8=0x0;while(_0x234077[_0x3ef9b9(0x184)]<0x4&&_0x444f8<0xa){let _0x539bf6;if(_0x444f8<_0x30571c['length'])_0x539bf6=_0x3d75a5+_0x30571c[_0x444f8];else _0x539bf6=Math[_0x3ef9b9(0x10c)](Math[_0x3ef9b9(0x134)]()*0x51)+0x1;_0x539bf6>=0x1&&_0x539bf6<=0x51&&!_0x234077['has'](_0x539bf6)&&_0x234077[_0x3ef9b9(0x17a)](_0x539bf6),_0x444f8++;}while(_0x234077[_0x3ef9b9(0x184)]<0x4)_0x234077[_0x3ef9b9(0x17a)](Math[_0x3ef9b9(0x10c)](Math['random']()*0x51)+0x1);return Array[_0x3ef9b9(0x119)](_0x234077);}function renderLevel3Options(_0x1a213f){const _0x3b4f68=_0x42316b,_0x11a246=document[_0x3b4f68(0xf6)](_0x3b4f68(0x169));_0x11a246[_0x3b4f68(0xe0)]='';let _0xa3bd59=shuffle(generateCloseWrongAnswers(_0x1a213f));_0xa3bd59[_0x3b4f68(0xfc)](_0x4cbad0=>{const _0x3a9441=_0x3b4f68,_0x4e45ae=document[_0x3a9441(0xe3)](_0x3a9441(0x11c));_0x4e45ae[_0x3a9441(0xeb)]=_0x4cbad0,_0x4e45ae[_0x3a9441(0xf2)]=_0x118e4f=>checkLevel3Answer(_0x4cbad0,_0x118e4f[_0x3a9441(0xf8)]),_0x11a246[_0x3a9441(0x12e)](_0x4e45ae);});}function generateNewLevel3Problem(){const _0x1ddd85=_0x42316b;disableLevel3Controls();const _0x41b88d=document[_0x1ddd85(0xf6)](_0x1ddd85(0x12a));if(_0x41b88d)_0x41b88d['textContent']='';let _0x28cc20,_0x5811e2=0x0;do{_0x28cc20=generateRandomProblem(),_0x5811e2++;if(_0x5811e2>0x14)break;}while(level3CurrentProblem&&_0x28cc20&&_0x28cc20['id']===level3CurrentProblem['id']);if(!_0x28cc20||typeof _0x28cc20['id']===_0x1ddd85(0x132)){level3QuizGenerator[_0x1ddd85(0x124)](),_0x28cc20=generateRandomProblem();if(!_0x28cc20||typeof _0x28cc20['id']===_0x1ddd85(0x132)){_0x41b88d&&(_0x41b88d[_0x1ddd85(0xeb)]=_0x1ddd85(0x10d),_0x41b88d['className']=_0x1ddd85(0x17c));enableLevel3Controls();return;}}level3CurrentProblem=_0x28cc20,level3Attempts[level3CurrentProblem['id']]=0x0;const _0x170453=document[_0x1ddd85(0xf6)](_0x1ddd85(0xfd));_0x170453['innerHTML']='';if(level3Mode==='input'){_0x170453['style'][_0x1ddd85(0x150)]=_0x1ddd85(0x136);const _0x15d590=document['createElement'](_0x1ddd85(0x128));_0x15d590[_0x1ddd85(0xeb)]=level3CurrentProblem['problem']+'\x20=\x20',_0x15d590['id']=_0x1ddd85(0x10a),_0x170453[_0x1ddd85(0x12e)](_0x15d590);const _0x209051=document['createElement']('input');_0x209051[_0x1ddd85(0x14d)]=_0x1ddd85(0x13a),_0x209051['id']='level3-answer-input',_0x209051[_0x1ddd85(0x170)]=_0x90073b=>handleLevel3Input(_0x90073b),_0x170453[_0x1ddd85(0x12e)](_0x209051),document['getElementById'](_0x1ddd85(0x162))[_0x1ddd85(0x114)][_0x1ddd85(0x189)]='flex';if(_0x209051)_0x209051[_0x1ddd85(0x114)][_0x1ddd85(0x139)]=_0x1ddd85(0x186);}else _0x170453['textContent']=level3CurrentProblem[_0x1ddd85(0x13c)]+_0x1ddd85(0xde),document['getElementById']('level3-input-area')[_0x1ddd85(0x114)]['display']=_0x1ddd85(0x163);if(level3Mode===_0x1ddd85(0x102)){const _0x1b306d=document[_0x1ddd85(0xf6)]('level3-options-area');_0x1b306d['innerHTML']='',renderLevel3Options(level3CurrentProblem[_0x1ddd85(0x117)]);}enableLevel3Controls();const _0xc5dc00=document[_0x1ddd85(0xf6)](_0x1ddd85(0xff));if(level3Mode===_0x1ddd85(0x174)&&_0xc5dc00)_0xc5dc00[_0x1ddd85(0x167)]();}function checkLevel3Answer(_0x36126f=null,_0x1e1dcb=null){const _0x162602=_0x42316b;disableLevel3Controls();const _0x581399=document[_0x162602(0xf6)](_0x162602(0xfd));if(level3Mode===_0x162602(0x174)){const _0x191691=document[_0x162602(0xf6)]('level3-answer-input');_0x36126f=parseInt(_0x191691?.['value'][_0x162602(0x16d)]());if(isNaN(_0x36126f)){const _0x57674b=document[_0x162602(0xf6)](_0x162602(0x12a));_0x57674b['textContent']='💡\x20답을\x20입력해\x20주세요.',_0x57674b[_0x162602(0x157)]=_0x162602(0x17c),enableLevel3Controls();return;}}const _0x52be69=document['getElementById'](_0x162602(0x12a)),_0x4212b2=level3CurrentProblem['id'];level3Attempts[_0x4212b2]<0x0&&(level3Attempts[_0x4212b2]=0x0);level3Attempts[_0x4212b2]++;if(_0x36126f===level3CurrentProblem['answer']){_0x52be69['textContent']=_0x162602(0x101),_0x52be69[_0x162602(0x157)]=_0x162602(0x176),calculateAccuracy(_0x4212b2,level3Attempts[_0x4212b2]),level3Attempts[_0x4212b2]*=-0x1;level3Mode==='4choice'&&_0x1e1dcb&&(_0x1e1dcb[_0x162602(0x114)]['backgroundColor']='#4b8134',_0x1e1dcb[_0x162602(0x114)][_0x162602(0x139)]=_0x162602(0xfa),_0x1e1dcb[_0x162602(0x114)][_0x162602(0x108)]=_0x162602(0x148));if(level3Mode===_0x162602(0x174)){const _0x14fb29=document[_0x162602(0xf6)](_0x162602(0xff));if(_0x14fb29)_0x14fb29[_0x162602(0x114)][_0x162602(0x139)]='#4b8134';}updateLevel3Status(),setTimeout(()=>{const _0x3df8c0=_0x162602;_0x52be69[_0x3df8c0(0xeb)]='',checkAndAutoResetLevel3();},0x320);}else{_0x52be69[_0x162602(0xeb)]=_0x162602(0x16a),_0x52be69[_0x162602(0x157)]='level3-result-message\x20incorrect-msg';level3Mode===_0x162602(0x102)&&_0x1e1dcb&&(_0x1e1dcb[_0x162602(0x114)][_0x162602(0xf0)]=_0x162602(0x13f),_0x1e1dcb[_0x162602(0x114)][_0x162602(0x139)]=_0x162602(0x120),_0x1e1dcb[_0x162602(0x114)][_0x162602(0x108)]=_0x162602(0x120));if(level3Mode==='input'){const _0x1517d8=document['getElementById'](_0x162602(0xff));_0x1517d8&&(_0x1517d8['value']='',_0x1517d8[_0x162602(0x114)][_0x162602(0x139)]=_0x162602(0x120),_0x1517d8[_0x162602(0x167)]());}enableLevel3Controls(),level3Mode==='4choice'&&_0x1e1dcb&&(_0x1e1dcb[_0x162602(0xdd)]=!![]);}}function calculateAccuracy(_0x2ed5be,_0x122b5a){const _0x12e043=_0x42316b;let _0x1c31de;const _0x3338ee=Math['abs'](_0x122b5a);if(_0x3338ee===0x1)_0x1c31de=0x1;else{if(_0x3338ee===0x2)_0x1c31de=0.8;else{if(_0x3338ee===0x3)_0x1c31de=0.6;else{if(_0x3338ee===0x4)_0x1c31de=0.4;else _0x1c31de=0.2;}}}if(level3Attempts[_0x2ed5be]>=0x1){level3Accuracy[_0x12e043(0x182)]++,level3Accuracy[_0x12e043(0x12d)]+=_0x1c31de;if(_0x3338ee===0x1)level3Accuracy['correctOnFirstTry']++;else level3Accuracy[_0x12e043(0x17b)]++;}}function handleLevel3Input(_0x13d5d0){const _0x281fe3=_0x42316b;if(_0x13d5d0['key']===_0x281fe3(0x103))checkLevel3Answer();}function resetLevel3Accuracy(){level3Accuracy={'totalProblems':0x0,'correctOnFirstTry':0x0,'retryCorrect':0x0,'scoreSum':0x0},level3Attempts={};}function checkAndAutoResetLevel3(){const _0x31a5d8=_0x42316b,_0x5a07fa=isLevel3Random||selectedGugudans[_0x31a5d8(0x184)]===0x0,_0x10d7e7=_0x5a07fa?Array[_0x31a5d8(0x119)]({'length':0x8},(_0x42f99b,_0x308f89)=>_0x308f89+0x2):Array['from'](selectedGugudans),_0xd75e65=_0x10d7e7[_0x31a5d8(0xe2)](_0xcca459=>level3QuizGenerator['availableProblems'][_0xcca459]&&level3QuizGenerator[_0x31a5d8(0x144)][_0xcca459][_0x31a5d8(0x105)]>0x0);!_0xd75e65&&level3QuizGenerator[_0x31a5d8(0x124)](),generateNewLevel3Problem();}function finishLevel3(){const _0x374696=_0x42316b;if(level3Accuracy['totalProblems']===0x0){alert(_0x374696(0x13d)),enableLevel3Controls();return;}showPage(_0x374696(0x15a));let _0x113700=0x0;level3Accuracy['totalProblems']>0x0&&(_0x113700=level3Accuracy['scoreSum']/level3Accuracy[_0x374696(0x182)]*0x64),document['getElementById'](_0x374696(0x116))[_0x374696(0xeb)]=Math[_0x374696(0x149)](_0x113700)+'%',document[_0x374696(0xf6)](_0x374696(0xdb))[_0x374696(0xeb)]=level3Accuracy[_0x374696(0x182)],document[_0x374696(0xf6)]('result-first-try')[_0x374696(0xeb)]=level3Accuracy[_0x374696(0x15e)],document[_0x374696(0xf6)]('result-retry-count')[_0x374696(0xeb)]=level3Accuracy['retryCorrect'];}function showCompletionMessage(_0x148ddf){const _0x1103ab=_0x42316b,_0x16924d=_0x148ddf===0x1?_0x1103ab(0x13e):'level2-completion-message',_0x285ab6=document['getElementById'](_0x16924d),_0x4a5e91=currentGuGuDan;if(_0x148ddf===0x1){_0x285ab6['innerHTML']=_0x1103ab(0x129)+_0x4a5e91+_0x1103ab(0x141);const _0x1513d8=createPopupButton('secondary-btn',_0x1103ab(0x142),()=>{const _0x31e2d4=_0x1103ab;_0x285ab6[_0x31e2d4(0x114)]['display']=_0x31e2d4(0x163);const _0x445a53=_0x4a5e91<0x9?_0x4a5e91+0x1:0x2;selectGuGuDan(0x1,_0x445a53);}),_0x43f5fb=createPopupButton('primary-btn',_0x1103ab(0x135),()=>{const _0x54ccb6=_0x1103ab;_0x285ab6[_0x54ccb6(0x114)][_0x54ccb6(0x189)]=_0x54ccb6(0x163),startLevel(0x2,_0x4a5e91);});_0x285ab6[_0x1103ab(0x17e)]('.popup-buttons')[_0x1103ab(0x12e)](_0x1513d8),_0x285ab6['querySelector'](_0x1103ab(0x164))[_0x1103ab(0x12e)](_0x43f5fb);}else _0x148ddf===0x2&&(_0x285ab6[_0x1103ab(0xe0)]=_0x1103ab(0x140)+_0x4a5e91+'단을\x20완성했어요!\x20🎉</div>');_0x285ab6[_0x1103ab(0x114)][_0x1103ab(0x189)]=_0x1103ab(0x11e);}function openQrPopup(){const _0x92a885=_0x42316b;qrPopupOverlay[_0x92a885(0x114)][_0x92a885(0x189)]=_0x92a885(0x145);}function closeQrPopup(){const _0x2b02bd=_0x42316b;qrPopupOverlay[_0x2b02bd(0x114)][_0x2b02bd(0x189)]='none';}document[_0x42316b(0x100)](_0x42316b(0xe7),()=>{const _0xd41f78=_0x42316b;showPage('home-page');const _0x172255=document[_0xd41f78(0xf6)](_0xd41f78(0x178));if(_0x172255)_0x172255[_0xd41f78(0xeb)]=_0xd41f78(0xf5);const _0x1826b7=document['getElementById'](_0xd41f78(0xe1));if(_0x1826b7)_0x1826b7[_0xd41f78(0xe0)]=isReverse?_0xd41f78(0x154):_0xd41f78(0x130);const _0x6cf1a9=document[_0xd41f78(0xf6)]('direction-btn-l2');if(_0x6cf1a9)_0x6cf1a9[_0xd41f78(0xe0)]=isReverse?'&#8680;':_0xd41f78(0x130);});
    </script>

</body>
</html>
